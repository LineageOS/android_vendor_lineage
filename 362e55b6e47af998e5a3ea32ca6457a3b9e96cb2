{
  "comments": [
    {
      "key": {
        "uuid": "94021998_7bac87db",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 81,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-24T16:36:59Z",
      "side": 1,
      "message": "RECOVERY_KERNEL_OUT",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 12
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ebc6754_73f3c626",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 273,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-23T22:25:02Z",
      "side": 1,
      "message": "document the parameters to the function in the line above",
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d70f6f6d_038c02ce",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-23T22:34:21Z",
      "side": 1,
      "message": "arguably this should run only once too?\nthen make TARGET_PREBUILT_INT_RECOVERY_KERNEL call directly internal-make-kernel-target instead of this (then you don\u0027t need to move these rules to a function at all)",
      "range": {
        "startLine": 275,
        "startChar": 0,
        "endLine": 278,
        "endChar": 4
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0de1626a_cc05e167",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 28037
      },
      "writtenOn": "2021-07-24T14:33:21Z",
      "side": 1,
      "message": "This works, i was under the wrong impression that for appended-dtb images you needed to run this, but the kernel makefile just creates de dtb\u0027s if the option is selected; so all this can be put back into the TARGET_PREBUILT_INT_KERNEL rule. However, i\u0027m not sure if using internal-make-kernel-target is OK; as it seems to be used only by other fucntions, in which case i could just keep and use make-recovery-kernel-target, and keep this more in-line with the pre-existing code",
      "parentUuid": "d70f6f6d_038c02ce",
      "range": {
        "startLine": 275,
        "startChar": 0,
        "endLine": 278,
        "endChar": 4
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8005fa0_41af1b21",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-24T16:36:59Z",
      "side": 1,
      "message": "No it does not make sense to me how this would be for -dtb appended kernel images. The kernel makefile will figure out it shall build dtbs itself (example https://github.com/LineageOS/android_kernel_google_redbull/blob/lineage-18.1/arch/arm64/Makefile#L179). With that said, i cannot figure out why we\u0027re doing this step at all.\n\nIn any case currently the dtbs will be outputed to RECOVERY_OBJ but nothing will use them (INSTALLED_DTBIMAGE_TARGET will still use KERNEL_OBJ). This also shows how if you use dtb.img and your recovery defconfig produces different dtbs, they will be ignored.",
      "parentUuid": "0de1626a_cc05e167",
      "range": {
        "startLine": 275,
        "startChar": 0,
        "endLine": 278,
        "endChar": 4
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52b97a45_ef82c1e1",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 299,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-23T22:25:02Z",
      "side": 1,
      "message": "this should not run twice.\nconsider adding a parameter to toggle the building and packaging of kernel modules, and only enable it for TARGET_PREBUILT_INT_KERNEL",
      "range": {
        "startLine": 279,
        "startChar": 0,
        "endLine": 299,
        "endChar": 4
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38951419_71b692b7",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 299,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-23T22:27:32Z",
      "side": 1,
      "message": "the recovery only defconfig should not define any modules, but i\u0027d still make sure this only runs once, with the right defconfig.",
      "parentUuid": "52b97a45_ef82c1e1",
      "range": {
        "startLine": 279,
        "startChar": 0,
        "endLine": 299,
        "endChar": 4
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5af8ec18_92052051",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 302,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-23T22:25:02Z",
      "side": 1,
      "message": "document the parameters to the function in the line above",
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e55776f6_bb006d3e",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 329,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-23T22:34:21Z",
      "side": 1,
      "message": "who uses this?",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 329,
        "endChar": 0
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa5adb3a_2e49ccaf",
        "filename": "build/tasks/kernel.mk",
        "patchSetId": 3
      },
      "lineNbr": 463,
      "author": {
        "id": 18205
      },
      "writtenOn": "2021-07-24T16:36:59Z",
      "side": 1,
      "message": "unused",
      "range": {
        "startLine": 462,
        "startChar": 0,
        "endLine": 463,
        "endChar": 112
      },
      "revId": "362e55b6e47af998e5a3ea32ca6457a3b9e96cb2",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": true
    }
  ]
}